# üìä –ù–ê–°–¢–†–û–ô–ö–ê GOOGLE SHEETS –î–õ–Ø –£–ü–†–ê–í–õ–ï–ù–ò–Ø –ò–ì–†–û–ö–ê–ú–ò

## üéØ –¶–µ–ª—å

–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–æ–≤ (–∏–º–µ–Ω–∞, –¥–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è, Telegram ID) –∏–∑ –∫–æ–¥–∞ –≤ Google Sheets –¥–ª—è:
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** - –¥–∞–Ω–Ω—ã–µ –Ω–µ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –∫–æ–¥–µ
- ‚úÖ **–ì–∏–±–∫–æ—Å—Ç–∏** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å –∏–≥—Ä–æ–∫–æ–≤
- ‚úÖ **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏–∏** - –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- ‚úÖ **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞** - —É–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã

### –õ–∏—Å—Ç "–ò–≥—Ä–æ–∫–∏"

| –ò–º—è | –ù–∏–∫ | Telegram ID | –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è | –°—Ç–∞—Ç—É—Å | –ö–æ–º–∞–Ω–¥–∞ | –î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|-----|-----|-------------|---------------|--------|---------|-----------------|------------|
| –®–∞—Ö–º–∞–Ω–æ–≤ –ú–∞–∫—Å–∏–º | @max_shah | 123456789 | 2006-08-17 | –ê–∫—Ç–∏–≤–Ω—ã–π | Pull Up | 2025-08-18 | –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω –∏–∑ –∫–æ–¥–∞ |
| –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω | @ivan_ball | 987654321 | 1995-03-15 | –ê–∫—Ç–∏–≤–Ω—ã–π | Pull Up-–§–∞—Ä–º | 2025-08-18 | - |

### –û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–µ–π:

- **–ò–º—è** - –ø–æ–ª–Ω–æ–µ –∏–º—è –∏–≥—Ä–æ–∫–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- **–ù–∏–∫** - –Ω–∏–∫–Ω–µ–π–º –≤ Telegram (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **Telegram ID** - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è** - –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD –∏–ª–∏ DD.MM.YYYY (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- **–°—Ç–∞—Ç—É—Å** - "–ê–∫—Ç–∏–≤–Ω—ã–π" –∏–ª–∏ "–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π" (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "–ê–∫—Ç–∏–≤–Ω—ã–π")
- **–ö–æ–º–∞–Ω–¥–∞** - "Pull Up" –∏–ª–∏ "Pull Up-–§–∞—Ä–º" (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è
- **–ü—Ä–∏–º–µ—á–∞–Ω–∏—è** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Sheets API

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Google Cloud Console

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
3. –í–∫–ª—é—á–∏—Ç–µ Google Sheets API:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "APIs & Services" ‚Üí "Library"
   - –ù–∞–π–¥–∏—Ç–µ "Google Sheets API"
   - –ù–∞–∂–º–∏—Ç–µ "Enable"

### 2. –°–æ–∑–¥–∞–Ω–∏–µ Service Account

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "APIs & Services" ‚Üí "Credentials"
2. –ù–∞–∂–º–∏—Ç–µ "Create Credentials" ‚Üí "Service Account"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **Name**: `telegram-bot-service`
   - **Description**: `Service account for Telegram bot`
4. –ù–∞–∂–º–∏—Ç–µ "Create and Continue"
5. –ü—Ä–æ–ø—É—Å—Ç–∏—Ç–µ —à–∞–≥–∏ 2 –∏ 3, –Ω–∞–∂–º–∏—Ç–µ "Done"

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª—é—á–∞

1. –í —Å–ø–∏—Å–∫–µ Service Accounts –Ω–∞–π–¥–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ email –∞–∫–∫–∞—É–Ω—Ç–∞
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Keys"
4. –ù–∞–∂–º–∏—Ç–µ "Add Key" ‚Üí "Create new key"
5. –í—ã–±–µ—Ä–∏—Ç–µ "JSON" –∏ –Ω–∞–∂–º–∏—Ç–µ "Create"
6. –°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª JSON

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google —Ç–∞–±–ª–∏—Ü—ã

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é Google —Ç–∞–±–ª–∏—Ü—É –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID —Ç–∞–±–ª–∏—Ü—ã –∏–∑ URL (—á–∞—Å—Ç—å –º–µ–∂–¥—É `/d/` –∏ `/edit`)
3. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –¥–æ—Å—Ç—É–ø Service Account:
   - –ù–∞–∂–º–∏—Ç–µ "Share" –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
   - –î–æ–±–∞–≤—å—Ç–µ email Service Account (–∏–∑ JSON —Ñ–∞–π–ª–∞)
   - –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ "Editor"

## üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 1. –î–æ–±–∞–≤—å—Ç–µ –≤ .env —Ñ–∞–π–ª:

```bash
# Google Sheets
GOOGLE_SHEETS_CREDENTIALS='{"type":"service_account","project_id":"your-project","private_key_id":"...","private_key":"-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n","client_email":"telegram-bot-service@your-project.iam.gserviceaccount.com","client_id":"...","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/telegram-bot-service%40your-project.iam.gserviceaccount.com"}'
SPREADSHEET_ID=your_spreadsheet_id_here
```

### 2. –î–æ–±–∞–≤—å—Ç–µ –≤ GitHub Secrets:

- `GOOGLE_SHEETS_CREDENTIALS` - –≤–µ—Å—å JSON –∏–∑ —Å–∫–∞—á–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- `SPREADSHEET_ID` - ID –≤–∞—à–µ–π Google —Ç–∞–±–ª–∏—Ü—ã

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```bash
python players_manager.py
```

### 2. –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

```bash
python migrate_players_to_sheets.py
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –¥–Ω–µ–π —Ä–æ–∂–¥–µ–Ω–∏—è

```bash
python birthday_bot_google.py
```

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ —á–µ—Ä–µ–∑ –∫–æ–¥:

```python
from players_manager import players_manager

# –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞
success = players_manager.add_player(
    name="–ù–æ–≤—ã–π –ò–≥—Ä–æ–∫",
    birthday="1990-01-01",
    nickname="@new_player",
    telegram_id="123456789",
    team="Pull Up",
    notes="–ù–æ–≤—ã–π –∏–≥—Ä–æ–∫ –∫–æ–º–∞–Ω–¥—ã"
)
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤:

```python
# –í—Å–µ –∏–≥—Ä–æ–∫–∏
all_players = players_manager.get_all_players()

# –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ
active_players = players_manager.get_active_players()

# –ò–º–µ–Ω–∏–Ω–Ω–∏–∫–∏ —Å–µ–≥–æ–¥–Ω—è
birthday_players = players_manager.get_players_with_birthdays_today()

# –ü–æ–∏—Å–∫ –ø–æ Telegram ID
player = players_manager.get_player_by_telegram_id("123456789")
```

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞

### 1. –û–±–Ω–æ–≤–∏—Ç–µ migrate_players_to_sheets.py:

```python
EXISTING_PLAYERS = [
    {"name": "–®–∞—Ö–º–∞–Ω–æ–≤ –ú–∞–∫—Å–∏–º", "birthday": "2006-08-17", "team": "Pull Up"},
    {"name": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω", "birthday": "1995-03-15", "team": "Pull Up-–§–∞—Ä–º"},
    # –î–æ–±–∞–≤—å—Ç–µ –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏–≥—Ä–æ–∫–æ–≤
]
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é:

```bash
python migrate_players_to_sheets.py
```

### 3. –ó–∞–º–µ–Ω–∏—Ç–µ birthday_bot.py –Ω–∞ birthday_bot_google.py

### 4. –û–±–Ω–æ–≤–∏—Ç–µ github_actions_monitor.py:

```python
# –ó–∞–º–µ–Ω–∏—Ç–µ –∏–º–ø–æ—Ä—Ç
from birthday_bot_google import check_birthdays
```

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –¥–∞–Ω–Ω—ã–µ –Ω–µ –≤ –∫–æ–¥–µ
2. **–ì–∏–±–∫–æ—Å—Ç—å** - –ª–µ–≥–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –ø–æ–ª–µ–π
4. **–í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å** - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
5. **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –¥–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫–æ–º–∞–Ω–¥–µ
6. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∏–≥—Ä–æ–∫–∞—Ö
### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
### –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏

---

**–°—Ç–∞—Ç—É—Å**: üü° –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 18.08.2025
