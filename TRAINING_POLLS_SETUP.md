# üèÄ –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–ø—Ä–æ—Å–∞–º–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–ø—Ä–æ—Å–æ–≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ Google Sheets —Å —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –∏–º–µ–Ω –∏–≥—Ä–æ–∫–æ–≤.

## ‚è∞ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã

- **üóìÔ∏è –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ 10:00 MSK** - –°–æ–∑–¥–∞–Ω–∏–µ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ –æ–ø—Ä–æ—Å–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- **üìä –°—Ä–µ–¥–∞ 10:00 MSK** - –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∑–∞ –≤—Ç–æ—Ä–Ω–∏–∫
- **üìä –°—É–±–±–æ—Ç–∞ 10:00 MSK** - –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∑–∞ –ø—è—Ç–Ω–∏—Ü—É

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Actions

### 1. –°–µ–∫—Ä–µ—Ç—ã (Secrets)

–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

```
BOT_TOKEN - –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
CHAT_ID - ID —á–∞—Ç–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ–ø—Ä–æ—Å–æ–≤
ANNOUNCEMENTS_TOPIC_ID - ID —Ç–æ–ø–∏–∫–∞ –¥–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
GOOGLE_SHEETS_CREDENTIALS - JSON —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ Google Sheets
SPREADSHEET_ID - ID Google —Ç–∞–±–ª–∏—Ü—ã
```

### 2. Workflow —Ñ–∞–π–ª

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–π–ª `.github/workflows/training_polls_enhanced.yml`

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Google Sheets

### –õ–∏—Å—Ç "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏"

| –ö–æ–ª–æ–Ω–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| A | –î–∞—Ç–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ |
| B | –î–µ–Ω—å –Ω–µ–¥–µ–ª–∏ |
| C | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ |
| D | –£—á–∞—Å—Ç–Ω–∏–∫–∏ (–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞) |

### –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

```
–î–∞—Ç–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ | –î–µ–Ω—å –Ω–µ–¥–µ–ª–∏ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ | –£—á–∞—Å—Ç–Ω–∏–∫–∏
2025-08-19      | –í—Ç–æ—Ä–Ω–∏–∫     | 3                     |
                |             |                       | –®–∞—Ä–∞–µ–≤ –Æ—Ä–∏–π
                |             |                       | –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω
                |             |                       | –ü–µ—Ç—Ä–æ–≤ –ü–µ—Ç—Ä
2025-08-22      | –ü—è—Ç–Ω–∏—Ü–∞     | 2                     |
                |             |                       | –®–∞—Ä–∞–µ–≤ –Æ—Ä–∏–π
                |             |                       | –ö–æ–∑–ª–æ–≤–∞ –ú–∞—Ä–∏—è
```

## üîç –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–º–µ–Ω –∏–≥—Ä–æ–∫–æ–≤

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç Telegram ID —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ª–∏—Å—Ç–∞ "–ò–≥—Ä–æ–∫–∏":

1. **–ù–∞–π–¥–µ–Ω –≤ —Ç–∞–±–ª–∏—Ü–µ** ‚Üí –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–ª–Ω–æ–µ –∏–º—è (–§–∞–º–∏–ª–∏—è –ò–º—è)
2. **–ù–µ –Ω–∞–π–¥–µ–Ω** ‚Üí –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç "–ò–º—è (Telegram ID)"

### –ü—Ä–∏–º–µ—Ä—ã:
- `@yignor` ‚Üí `–®–∞—Ä–∞–µ–≤ –Æ—Ä–∏–π`
- `@unknown_user` ‚Üí `–ò–≤–∞–Ω (@unknown_user)`

## üöÄ –ó–∞–ø—É—Å–∫ –≤—Ä—É—á–Ω—É—é

### –ß–µ—Ä–µ–∑ GitHub Actions

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "Actions"
2. –í—ã–±–µ—Ä–∏—Ç–µ "Training Polls Management"
3. –ù–∞–∂–º–∏—Ç–µ "Run workflow"
4. –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:
   - `check` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
   - `create_poll` - –°–æ–∑–¥–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–∞
   - `collect_tuesday` - –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∑–∞ –≤—Ç–æ—Ä–Ω–∏–∫
   - `collect_friday` - –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∑–∞ –ø—è—Ç–Ω–∏—Ü—É

### –õ–æ–∫–∞–ª—å–Ω–æ

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install python-telegram-bot gspread google-auth python-dotenv

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
export BOT_TOKEN="your_bot_token"
export CHAT_ID="your_chat_id"
export GOOGLE_SHEETS_CREDENTIALS='{"type": "service_account", ...}'
export SPREADSHEET_ID="your_spreadsheet_id"

# –ó–∞–ø—É—Å–∫
python training_polls_enhanced.py
```

## üìÅ –§–∞–π–ª—ã —Å–∏—Å—Ç–µ–º—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `training_polls_enhanced.py` - –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å —Å–∏—Å—Ç–µ–º—ã
- `.github/workflows/training_polls_enhanced.yml` - GitHub Actions workflow

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–∏—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ Git):
- `current_poll_info.json` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º –æ–ø—Ä–æ—Å–µ
- `poll_results.json` - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ä–æ—Å–∞
- `found_player_info.json` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∞–π–¥–µ–Ω–Ω–æ–º –∏–≥—Ä–æ–∫–µ

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ Google Sheets

### –õ–∏—Å—Ç "–ò–≥—Ä–æ–∫–∏"
–î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–ª–æ–Ω–∫–∏:
- –§–∞–º–∏–ª–∏—è
- –ò–º—è  
- Telegram ID

### –õ–∏—Å—Ç "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏"
–°–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏:
- –î–∞—Ç–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
- –î–µ–Ω—å –Ω–µ–¥–µ–ª–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –£—á–∞—Å—Ç–Ω–∏–∫–∏

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–í—Ä–µ–º—è –º–æ—Å–∫–æ–≤—Å–∫–æ–µ** - –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ –º–æ—Å–∫–æ–≤—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏
2. **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞** - –°—Ç—Ä–æ–∫–∏ —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
3. **–î–∞–Ω–Ω—ã–µ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è** - –ù–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ** - –ò–º–µ–Ω–∞ –∏–≥—Ä–æ–∫–æ–≤ —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: "BOT_TOKEN –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–∫—Ä–µ—Ç BOT_TOKEN –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö GitHub

### –ü—Ä–æ–±–ª–µ–º–∞: "Google Sheets –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ GOOGLE_SHEETS_CREDENTIALS –∏ SPREADSHEET_ID

### –ü—Ä–æ–±–ª–µ–º–∞: "–§–∞–π–ª current_poll_info.json –Ω–µ –Ω–∞–π–¥–µ–Ω"
**–†–µ—à–µ–Ω–∏–µ:** –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –æ–ø—Ä–æ—Å —á–µ—Ä–µ–∑ GitHub Actions

### –ü—Ä–æ–±–ª–µ–º–∞: –ò–º–µ–Ω–∞ –∏–≥—Ä–æ–∫–æ–≤ –Ω–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ª–∏—Å—Ç–∞ "–ò–≥—Ä–æ–∫–∏" –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å Telegram ID

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ GitHub Actions
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ Google Sheets
4. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
